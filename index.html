<!DOCTYPE html>
<html>
<?xml version="1.0" encoding="UTF-8"?>

<head>
    <meta charset="utf-8" />
	<title> Auto-Titrate </title>
 
</head>
    
<body>
	<h1>Auto-Titrate</h1>
	<h2>WIP</h2>
	
	<h3>Input Your Data</h3>
	<!-- This form should ask for 
concentration inputs and specify if the initial and added substance is a base or acid -->
	 <script type="text/javascript">
		 function log10(x){
		return (Math.log(x) / Math.log(10));	 
		 }
	
function titrate(){
	var x = document.getElementById("form");
	var inittype = x.elements[0].value;
	var initial = Number(x.elements[1].value);
	var initvol = Number(x.elements[2].value);
	
	var added = Number(x.elements[3].value);
	var addvol = Number(x.elements[4].value);
	var constant = Number(x.elements[5].value) * Math.pow(10,Number(x.elements[6].value));
	
	
	var molinit = Number(initvol) * Number(initial);
	var moladd = Number(addvol) * Number(added);
	var pH;
	if (molinit < moladd){
		var newMol = moladd - molinit;
		var newM = newMol / (addvol + initvol);
		
		if (inittype = "Acid"){ 
		pH = log10((Math.pow(10,-14) / (newM))) * (-1);
			document.getElementById("display").innerHTML = "The concentration of " + "Acid" + " is " + newM + "M.  The pH is " + pH; 
		return;
		}
		else { 
			pH = Math.log(newM) * (-1);
			document.getElementById("display").innerHTML = "The concentration of " + "Base" + " is " + newM + "M.  The pH is " + pH; 
		return;
		}
		
		
		
	}
	if (molinit = moladd){
		var newConst = (Math.pow(10,-14) / (constant));
		var newMinit = molinit / (initvol + addvol);
		if (inittype = "Acid"){
		pH = log10(newConst)	
			document.getElementById("display").innerHTML = "The concentration of " + "Weak Acid" + " is " + newM + "M.  The pH is " + pH; 
		}
	 	else {
			pH = 14 + log10(newConst);
			document.getElementById("display").innerHTML = "The concentration of " + "Weak Base" + " is " + newM + "M.  The pH is " + pH; 
		}
		
		
	}
	
}
				 
			</script>
	<div id="container">
		
		<div id="main" role="main">
			<form id="form" method=get>
  				Molar Concentration of Weak ___: [Base/Acid] <br />
				<input type="text" name="inittype" value="Base"> <br />
				
				Molarity: <input type="text" value="1.00" name="initial"><br />
				<br />
				Volume: <input type="text" value=".15" name="initvol"> (In liters)<br />
				Molar Concentration of Strong ____ added: [This Will Depend on Initial Type]<br />
				
				
				Molarity: <input type="text" value="1.00" name="added"><br />
				Volume: <input type="text" value=".15" name="addvol"> (In liters)<br />
			      [Ka/Kb]: <input type="text" value="6.32" name="sigConstant"> * 10 ^ <input type="text" value="-3" name="power">
				
			</form>
			<button onclick=titrate()> Titrate! </button>
			<p> <span id="display"> </span> </p>
		</div>				
	
	
	</div>
	
	
</body>
		
</html>
